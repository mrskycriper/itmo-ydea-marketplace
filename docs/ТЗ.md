# Техническое задание к маркетплейсу

## Функциональные требования

### Общее

1. Регистрация поставщиков
2. Регистрация покупателей
3. Личный кабинет пользователя

### Маректплейс

1. Поставщик может добавлять, редактировать и удалять товары
2. Поставщик может помечать товары в наличии и указывать количество товара
3. Поставщик может добавлять варианты доставки, её стоимость и примерное время
4. Товар должен иметь цену, описание и изображения
5. Пользователи могут выставлять товарам рейтинг и добавлять отзывы, которые будут отображаться на странице товара
6. Пользователь может искать товары в каталоге, производителей или категории по названию
7. Пользователь может фильтровать товары в каталоге по производителю или категориям
8. Пользователь может сортировать товары в каталоге убыванию или возрастанию цены или рейтинга
9. Система не должна допустить покупку товара при его отсутствии у поставщика (при наличии актуальных данных)
    1. Не показывает отсутствующие товары в каталоге
    2. Если товар куплен кем-то другим, во время добавления его в корзину, система выдаст сообщение об этом
10. Покупатель может добавлять товары в корзину и удалять товары из неё
11. Покупатель может купить товары из корзины
12. Покупатель может выбрать вариант доставки
13. Покупатель может выбрать вариант оплаты
14. Товар должен бронироваться при добавлении в корзину на время с возможностью продления
15. Система не должна давать бронировать товар больше трёх раз с истечением срока бронирования
16. Если поставщику не удаётся доставить заказ, производится возврат средств

### Поддержка покупателей

1. История обращений в личном кабинете
2. Чат с техподдержкой в реальном времени

### Форум

1. Основные темы, создаваемые только администратором
2. Под-темы, создаваемые зарегистрированными пользователями
3. Внутри под-тем посты, создаваемые зарегистрированными пользователями
4. У постов комментарии, создаваемые зарегистрированными пользователями
5. Незарегистрированные пользователи могут видеть весь форум
6. Создатель темы, под-темы или поста может изменить или удалить её/его

## Нефункциональные требования

1. Страницы каталога не должны загружаться дольше 5 секунд (с условием реалистичной скорости интернета)
2. Основные темы на форуме может создавать, редактировать и удалять только администратор (безопасность)
3. Под-темы, посты и комментарии может редактировать только автор, а удалять автор или администратор
4. Аутентификация пользователя только через ник и пароль
5. Доступ к личному кабинету, корзине, истории обращений в техподдержку, создание под-тем, постов и комментариев доступны только аутентифицированным пользователям. Добавление, редактирование и удаление товаров доступно только аутентифицированным поставщикам.
6. Платежи осуществляются на стороне платёжной системы
7. Хранение, отправка/доставка товара осуществляется продавцом (и не контролируется системой)

## Развёртывание

![Диаграмма размещения](/docs/Диаграмма%20размещения.jpg)

Существует веб-сервер в котором обрабатываются все бизнес процессы,
кроме частично аутентификации – она обрабатывается на стороннем сервисе
SuperTokens. Веб-сервер связывается с базой данных PostgreSQL через
PrismaSQL. Именно с сервером связывается по HTTPS веб-браузер клиента.

## Стейт машина заказа

![Стейт машина заказа](/docs/Стейт%20машина%20заказа.png)

## Архитектура данных

![Арзитектура данных](/docs/Архитектура%20даных.png)